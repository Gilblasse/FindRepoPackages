{"version":3,"sources":["../../src/routes/api.js"],"names":["express","require","puppeteer","languageType","router","Router","post","req","res","owner","body","repo","language","baseUrl","launch","ignoreDefaultArgs","args","browser","newPage","page","packageType","exe","data","close","send","module","exports"],"mappings":";;;;;;AAAA;AACA;AACA;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAzB;;AACA,IAAME,YAAY,GAAGF,OAAO,CAAC,iBAAD,CAA5B;;AAEA,IAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf,C,CAEA;;AACAD,MAAM,CAACE,IAAP,CAAY,qBAAZ;AAAA,qEAAmC,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAEzBC,YAAAA,KAFyB,GAEjBF,GAAG,CAACG,IAAJ,CAASD,KAFQ;AAGzBE,YAAAA,IAHyB,GAGlBJ,GAAG,CAACG,IAAJ,CAASC,IAHS;AAIzBC,YAAAA,QAJyB,GAIdL,GAAG,CAACG,IAAJ,CAASE,QAJK;AAMzBC,YAAAA,OANyB,gCAMOJ,KANP,cAMgBE,IANhB;AAAA;AAAA,mBAOTT,SAAS,CAACY,MAAV,CAAiB;AACnCC,cAAAA,iBAAiB,EAAE,CAAC,sBAAD,CADgB;AAEnCC,cAAAA,IAAI,EAAE,CAAC,cAAD;AAF6B,aAAjB,CAPS;;AAAA;AAOzBC,YAAAA,OAPyB;AAAA;AAAA,mBAYZA,OAAO,CAACC,OAAR,EAZY;;AAAA;AAYzBC,YAAAA,IAZyB;AAazBC,YAAAA,WAbyB,GAaXjB,YAAY,CAACS,QAAD,CAbD;;AAAA,iBAepBQ,WAfoB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAeAA,WAAW,CAACC,GAAZ,CAAgBR,OAAhB,EAAyBM,IAAzB,EAA+BC,WAA/B,CAfA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,0BAe8C,WAf9C;;AAAA;AAe3BE,YAAAA,IAf2B;AAiB/BL,YAAAA,OAAO,CAACM,KAAR;AACAf,YAAAA,GAAG,CAACgB,IAAJ,CAAS;AAACF,cAAAA,IAAI,EAAJA;AAAD,aAAT;;AAlB+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnC;;AAAA;AAAA;AAAA;AAAA;AAsBAG,MAAM,CAACC,OAAP,GAAiBtB,MAAjB,C,CACA","sourcesContent":["// import express from 'express'\r\n// import puppeteer from 'puppeteer'\r\n// import { languageType } from '../app/EvalRepo.mjs'\r\n\r\nconst express = require('express');\r\nconst puppeteer = require('puppeteer');\r\nconst languageType = require('../app/EvalRepo');\r\n\r\nconst router = express.Router();\r\n\r\n// Front-End Gets Repo Language through rest: https://api.github.com/repos/:owner/:repo  and sends info via Body parser\r\nrouter.post('/repo-packages-info', async (req, res) => {\r\n\r\n    const owner = req.body.owner\r\n    const repo = req.body.repo\r\n    const language = req.body.language\r\n\r\n    const baseUrl = `https://github.com/${owner}/${repo}`\r\n    const browser = await puppeteer.launch({\r\n        ignoreDefaultArgs: ['--disable-extensions'],\r\n        args: ['--no-sandbox']\r\n      });\r\n      \r\n    const page = await browser.newPage();\r\n    const packageType = languageType[language]\r\n\r\n    let data = packageType ? await packageType.exe(baseUrl, page, packageType) : \"Not Found\"\r\n\r\n    browser.close();\r\n    res.send({data})\r\n});\r\n\r\n\r\nmodule.exports = router\r\n// export default router;"],"file":"api.js"}